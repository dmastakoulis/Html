{% extends 'base_manager.html' if session['role'] == 'manager' else 'base_employee.html' %}
{% block content %}

<div class="page-header-box">
    <h2>View Customers</h2>
</div>

<div class="container mb-4" style="max-width: 400px;">
    <div class="search-container">
        <input type="text" placeholder="ðŸ” Search">
    </div>
</div>

{% for customer in customers %}
<div class="vc-card">
    <div class="vc-header-row">
        <div class="vc-header-col">INFO</div>
        <div class="vc-header-col">BUSINESS INFO</div>
        <div class="vc-header-col">CUSTOMER LOG</div>
    </div>

    <div class="vc-body-row">
        <div class="vc-body-col">
            <div class="vc-data-item"><label>Name</label><span>{{ customer.name }}</span></div>
            <div class="vc-data-item"><label>Phone</label><span>{{ customer.phone }}</span></div>
            <div class="vc-data-item"><label>Email</label><span>{{ customer.email }}</span></div>
            <div class="vc-data-item"><label>Address</label><span>{{ customer.address if customer.address else 'N/A' }}</span></div>
        </div>

        <div class="vc-body-col">
            <div class="vc-data-item"><label>Client Stage</label><span>{{ customer.category }}</span></div>
            <div class="vc-data-item"><label>Business Area</label><span>{{ customer.company }}</span></div>
            <div class="vc-data-item"><label>Estimated Revenue</label><span>1.200.000$</span></div>
            <div class="vc-data-item"><label>Date Added</label><span>{{ customer.created_at }}</span></div>
            <div class="vc-data-item"><label>Registered By</label><span>Duke Jackson</span></div>
        </div>

        <div class="vc-body-col">
            <div class="vc-data-item"><label>Last Interaction</label><span>15/09/2025</span></div>
            <div class="vc-data-item"><label>Upcoming Meeting</label><span>26/09/2025</span></div>
        </div>
    </div>
</div>
{% else %}
    <p class="text-center mt-5">No customers found.</p>
{% endfor %}

{% endblock %}